<!-- pages/register/register.wxml -->
<view class="container">
  <view class="register-form">
    <view class="logo">
      <image src="/assets/icons/logo.svg" mode="aspectFit"></image>
      <text class="title">ShiHua Music</text>
    </view>
    
    <text class="form-subtitle">åˆ›å»ºä¸€ä¸ªæ–°è´¦æˆ·</text>

    <view class="form-group">
      <view class="input-wrapper">
        <text class="input-icon">ğŸ‘¤</text>
        <input
          type="text"
          placeholder="ç”¨æˆ·å"
          bindinput="onUsernameInput"
          value="{{username}}"
          placeholder-style="color: #999;"
          style="flex: 1; padding: 0 20rpx;"
        />
      </view>
      <text wx:if="{{errors.username}}" class="error-message">{{errors.username}}</text>
    </view>

    <view class="form-group">
      <view class="input-wrapper">
        <text class="input-icon">âœ‰ï¸</text>
        <input
          type="text"
          placeholder="é‚®ç®±"
          bindinput="onEmailInput"
          value="{{email}}"
          placeholder-style="color: #999;"
          style="flex: 1; padding: 0 20rpx;"
        />
        <button
          type="text"
          size="mini"
          disabled="{{countdown > 0 || loading}}"
          bindtap="handleSendCode"
          class="send-code-btn"
        >
          {{countdown > 0 ? countdown + 'såé‡è¯•' : 'è·å–éªŒè¯ç '}}
        </button>
      </view>
      <text wx:if="{{errors.email}}" class="error-message">{{errors.email}}</text>
    </view>

    <view class="form-group">
      <view class="input-wrapper">
        <text class="input-icon">ğŸ”‘</text>
        <input
          type="text"
          placeholder="éªŒè¯ç "
          bindinput="onVerificationCodeInput"
          value="{{verificationCode}}"
          placeholder-style="color: #999;"
          style="flex: 1; padding: 0 20rpx;"
        />
      </view>
      <text wx:if="{{errors.verificationCode}}" class="error-message">{{errors.verificationCode}}</text>
    </view>

    <view class="form-group">
      <view class="input-wrapper">
        <text class="input-icon">ğŸ”’</text>
        <input
          password
          placeholder="å¯†ç "
          bindinput="onPasswordInput"
          value="{{password}}"
          placeholder-style="color: #999;"
          style="flex: 1; padding: 0 20rpx;"
        />
      </view>
      <text wx:if="{{errors.password}}" class="error-message">{{errors.password}}</text>
    </view>

    <button
      type="primary"
      bindtap="handleRegister"
      loading="{{loading}}"
      disabled="{{loading}}"
      style="width: 100%; margin-top: 40rpx; line-height: 90rpx; border-radius: 8rpx;"
    >
      æ³¨å†Œ
    </button>

    <view class="login-text">
      å·²æœ‰è´¦æˆ·ï¼Ÿ
      <text bindtap="switchToLogin" class="link-text">ç™»å½•</text>
    </view>
  </view>
</view>